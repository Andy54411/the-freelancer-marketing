{
  "variables": [
    {
      "name": "DSGVO - Analytics Consent Status",
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  var consent = localStorage.getItem('taskilo-cookie-consent');\n  if (consent) {\n    var consentData = JSON.parse(consent);\n    return consentData.analytics ? 'granted' : 'denied';\n  }\n  return 'denied';\n}"
        }
      ]
    },
    {
      "name": "DSGVO - Marketing Consent Status",
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  var consent = localStorage.getItem('taskilo-cookie-consent');\n  if (consent) {\n    var consentData = JSON.parse(consent);\n    return consentData.marketing ? 'granted' : 'denied';\n  }\n  return 'denied';\n}"
        }
      ]
    },
    {
      "name": "DSGVO - Functional Consent Status", 
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  var consent = localStorage.getItem('taskilo-cookie-consent');\n  if (consent) {\n    var consentData = JSON.parse(consent);\n    return consentData.functional ? 'granted' : 'denied';\n  }\n  return 'denied';\n}"
        }
      ]
    },
    {
      "name": "User Registration - Category",
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  return {{Event}} === 'user_registration' ? {{User Category}} : undefined;\n}"
        }
      ]
    },
    {
      "name": "Order Creation - Category",
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  return {{Event}} === 'order_created' ? {{Order Category}} : undefined;\n}"
        }
      ]
    },
    {
      "name": "Order Creation - Subcategory",
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  return {{Event}} === 'order_created' ? {{Order Subcategory}} : undefined;\n}"
        }
      ]
    },
    {
      "name": "Order Creation - Value",
      "type": "jsm",
      "parameter": [
        {
          "type": "TEMPLATE",
          "key": "javascript",
          "value": "function() {\n  return {{Event}} === 'order_created' ? {{Order Value}} : undefined;\n}"
        }
      ]
    }
  ],
  "triggers": [
    {
      "name": "DSGVO - Analytics Consent Gegeben",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE", 
              "key": "arg1",
              "value": "analytics_consent_granted"
            }
          ]
        }
      ]
    },
    {
      "name": "DSGVO - Marketing Consent Gegeben",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1", 
              "value": "marketing_consent_granted"
            }
          ]
        }
      ]
    },
    {
      "name": "DSGVO - Cookie Consent Banner Angezeigt",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "cookie_banner_shown"
            }
          ]
        }
      ]
    },
    {
      "name": "DSGVO - Cookie Consent Akzeptiert",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "cookie_consent_accepted"
            }
          ]
        }
      ]
    },
    {
      "name": "DSGVO - Cookie Consent Abgelehnt",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "cookie_consent_rejected"
            }
          ]
        }
      ]
    },
    {
      "name": "User Registration - Alle Kategorien",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "user_registration"
            }
          ]
        }
      ]
    },
    {
      "name": "User Registration - Kunde",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "user_registration"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{User Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "kunde"
            }
          ]
        }
      ]
    },
    {
      "name": "User Registration - Dienstleister",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "user_registration"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{User Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "dienstleister"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Alle Kategorien",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Reinigung",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "reinigung"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Garten & Landschaft",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "garten_landschaft"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Handwerk",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "handwerk"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Transport & Umzug",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "transport_umzug"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - IT & Technik",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "it_technik"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Beratung & Coaching",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "beratung_coaching"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Gesundheit & Wellness",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "gesundheit_wellness"
            }
          ]
        }
      ]
    },
    {
      "name": "Order Created - Sonstiges",
      "type": "CUSTOM_EVENT",
      "customEventFilter": [
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Event}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "order_created"
            }
          ]
        },
        {
          "type": "EQUALS",
          "parameter": [
            {
              "type": "TEMPLATE",
              "key": "arg0",
              "value": "{{Order Category}}"
            },
            {
              "type": "TEMPLATE",
              "key": "arg1",
              "value": "sonstiges"
            }
          ]
        }
      ]
    }
  ]
}
